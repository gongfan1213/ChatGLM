功能不受影响的能力的一种测试。表15 - 27描述了本次对系统健壮性进行测试的测试类型以及对应的测试结果。结果表明，本系统在用户进行异常输入的情况下能够进行及时的引导并能够产生相应的回退机制避免异常数据的注入。

#### 表15 - 27 系统健壮性测试用例
|测试类型|测试结果|
| ---- | ---- |
|错误的数据类型|系统会提示异常信息并反馈|
|异常的输入|系统会提示异常信息并反馈|
|错误的操作顺序|系统会提示异常信息并反馈|
|并发性|高并发情况下系统的响应时间达到系统性能要求|

### 2. 兼容性测试与用户界面测试
兼容性测试与用户界面测试主要测试系统在不同硬件设备上的运行情况和显示情况。测试结果显示本系统能够在全部测试设备上正确运行，通过率100%，业务功能在不同操作系统上均能实现且操作流程一致。用户界面方面在测试设备上均能实现自适应，无明显卡顿现象，页面展示正确，提示信息清晰明确。

系统测试部分对该系统进行功能以及性能两方面的测试，测试结果表明该系统功能达到了用户需求以及详细设计的要求，并且具有一定的容错性、稳定性。

### 15.6 系统使用说明
在浏览器地址栏输入案例系统部署的套接字（IP地址 + 端口号）后即可跳转至登录界面，如图15 - 26所示。

![image](https://github.com/user-attachments/assets/c4db95ef-637e-4e83-8b79-d11423b25130)


#### 图15 - 26 系统登录页面
（此处为登录页面图片展示）

### 15.6.1 注册用户
进入登录页面后，单击登录窗格下方的“注册”按钮，打开注册窗口，如图15 - 27所示。

#### 图15 - 27 注册页面
（此处为注册页面图片展示，包含“用户名”“密码”“再次确认密码”“头像”字段）

![image](https://github.com/user-attachments/assets/a37586d8-c2f9-4b97-81f7-e48d49cce2d3)


注册窗口中包含“用户名”“密码”“再次确认密码”“头像”四个字段，其中前三个为必需字段。“头像”字段用于输入用户希望生成的头像的描述。输入“头像”字段后，单击“生成头像”按钮，等待片刻即可接收到大模型根据“头像”字段为用户生成的头像，如图15 - 28所示。


![image](https://github.com/user-attachments/assets/e554f526-c48d-4908-980d-b06907b894ee)




#### 图15 - 28 调用头像生成功能
（此处为调用头像生成功能的页面图片展示）

填写完必需信息后，单击右下角“注册”按钮即可完成账号注册，注册成功提示如图15 - 29所示。


![image](https://github.com/user-attachments/assets/b8260f94-ad40-4854-a51d-f0c2036b0225)


#### 图15 - 29 注册成功的提示
（此处为注册成功提示的图片展示）

### 15.6.2 用户登录
在注册完成后，即可通过账号、密码登录系统。在“账号”和“密码”字段输入刚刚注册时填写的账号和密码，单击下方“登录”按钮即可登录系统。

其中页面右上角为用户账号管理区域，左侧为功能菜单栏，右下角大部分区域为主要显示页面，如图15 - 30所示。


![image](https://github.com/user-attachments/assets/ee98f98e-a712-4ea9-8d5c-cbb70a95d57b)


#### 图15 - 30 系统页面功能分区
（此处为系统页面功能分区的图片展示）

### 15.6.3 用户信息、密码修改、退出登录
系统右上角的用户账号管理区域中有三个元素：头像、“修改密码”按钮、“退出”按钮。单击“退出”按钮即可退出登录，并回到登录页面；单击头像即可打开用户信息修改页面；单击“修改密码”按钮即可打开修改密码页面。

如图15 - 31所示，在用户信息修改页面中，将开关调整到“修改”，即可切换到修改信息的展示页面，在这里面可以修改头像描述和头像图片。单击“确定”按钮即为确认修改信息。


![image](https://github.com/user-attachments/assets/ada29ad6-a66b-41d2-b121-56663e7ca2a1)


#### 图15 - 31 个人信息页面（左侧为不修改，右侧为修改）
（此处为个人信息页面的图片展示）

如图15 - 32所示，在修改密码页面中，需要输入当前的密码验证身份，并输入想要修改的新密码，单击“确定”按钮即为确认修改密码。


![image](https://github.com/user-attachments/assets/5ed18850-e316-4ac7-94cc-1f774c4f1675)


#### 图15 - 32 修改密码页面
（此处为修改密码页面的图片展示）

### 15.6.4 创建智能体
此系统的主要功能为智能对话。首先要创建一个智能体。在左侧功能菜单栏中选择“功能”子菜单，再选择“创建智能体”功能，即可打开创建智能体的页面，如图15 - 33所示。

其中包含若干字段：“智能体分类”可以为即将创建的智能体设置一个定位；“创建智能体名称”字段用于输入智能体的名称；“创建智能体的身份背景”用于对智能体进行详细描述；“是否共享”字段用于决定即将创建的智能体是否允许其他人能够使用；头像相关字段与注册、修改信息处的相同；“资料文档”字段允许用户提交知识库，协助智能体回答问题。最后单击“立即创建”按钮即可完成创建。


![image](https://github.com/user-attachments/assets/a284b2f6-f23f-4e41-adfc-a390c713ad57)


#### 图15 - 33 智能体创建页面
（此处为智能体创建页面的图片展示）

### 15.6.5 查看智能体
创建智能体后，单击左侧功能菜单栏中的“首页”，即可来到智能体查询页面，如图15 - 34所示。这里将显示可以进行对话的智能体。可以通过上方查询框输入智能体名进行模糊查询。单击智能体即可跳转至“对话”页面。


![image](https://github.com/user-attachments/assets/32f3c276-d405-4068-bb54-ee9a28a97be7)


#### 图15 - 34 首页 - 查看智能体
（此处为首页查看智能体页面的图片展示）

### 15.6.6 与智能体进行对话
进入对话界面，在下方输入框中输入信息后，单击“回车”或右边发送按钮即可发送消息进行对话，如图15 - 35所示。


![image](https://github.com/user-attachments/assets/0861eba9-285b-4ccb-898d-86c489b01a33)


#### 图15 - 35 智能体对话
（此处为智能体对话页面的图片展示）

### 15.6.7 修改、删除智能体信息和新建对话
右上方的“更多”菜单中包含“删除智能体”“修改智能体”和“新建对话”三个功能，如图15 - 36所示。“删除智能体”将把当前对话的智能体删除，用户需谨慎操作；“修改智能体”可打开智能体信息页面，对其中的智能体描述和头像等内容进行修改，如图15 - 37所示；“新建对话”可重新创建与该智能体的对话，将清空原来的对话记录，需谨慎操作。


![image](https://github.com/user-attachments/assets/a9628c8d-7e8b-4bfa-89ee-2747fb2761ac)


#### 图15 - 36 更多功能
（此处为更多功能菜单的图片展示）


![image](https://github.com/user-attachments/assets/23bdb40f-062c-4671-99c4-2a36cf8c91ea)


#### 图15 - 37 修改智能体信息
（此处为修改智能体信息页面的图片展示）

### 15.6.8 账号管理
接下来的管理功能为管理员账号才能使用的功能。在登录时使用管理员权限的账号密码进行系统登录，即可在左侧功能菜单栏中看到“管理”功能，如图15 - 38所示。


![image](https://github.com/user-attachments/assets/768e6176-efba-42ae-8fab-d68b888535d9)


#### 图15 - 38 账号管理页面
（此处为账号管理页面的图片展示）

单击“管理”子菜单下的“账号管理”即可进入账号管理页面。在这个页面中将看到系统中所有已创建的且未被删除的账号信息。可以通过在上方搜索栏输入用户名的方式进行模糊搜索，如图15 - 39所示。也可以通过搜索栏旁边的新建用户按钮打开用户创建窗口，如图15 - 40所示。


![image](https://github.com/user-attachments/assets/fae2a3e0-ebeb-45be-b45a-fab682b27672)


#### 图15 - 39 根据账户名模糊搜索
（此处为根据账户名模糊搜索页面的图片展示）

在用户信息表格中，“账户角色”一栏可以调整该账户的角色分类。可以基于admin管理员权限，在“操作”一栏编辑账户的信息、删除账户和管理该账户创建的角色。编辑信息的页面与修改个人账户的页面类似，这里不做重复展示。


![image](https://github.com/user-attachments/assets/78c7adbc-658a-4312-a506-0b9d8cc61ead)


#### 图15 - 40 管理员新增账户
（此处为管理员新增账户页面的图片展示）

### 15.6.9 智能体管理
在用户信息表格中单击“操作”栏中的“智能体管理”按钮，进入该账户所创建的智能体管理页面，如图15 - 41所示。

#### 图15 - 41 智能体管理页面
（此处为智能体管理页面的图片展示）

在此页面中，可以通过上方搜索栏输入智能体名进行模糊搜索。在“操作”栏中可以编辑智能体信息，也可以删除智能体。编辑智能体页面与个人账户修改智能体信息的页面类似，这里不做过多展示。


![image](https://github.com/user-attachments/assets/dedb89e2-9568-429a-a9b8-e7e9d86bcb50)


### 15.7 案例系统部署
本节主要介绍案例系统的源码怎么下载以及如何部署案例系统。案例系统的部署又分为部署前的环境搭建、后端部署和前端部署。部署案例系统至少需要含有一张24G显卡的服务器。本书案例系统中采用微调后的ChatGLM2 - 6B模型实现了角色扮演功能，其他功能采用ChatGLM3 - 6B模型实现，下面将给出这两种模型的部署过程。

### 15.7.1 源码下载

在浏览器中输入https://github.com/Shuzhimin/CharacterAI，进入案例系统的GitHub仓库中，读者将能够看到完整的案例系统源码。如果读者要下载该源码，可以在服务器中使用git命令将源码拉至本地，只需在命令行窗口中执行“git clone https://github.com/Shuzhimin/CharacterAI.git”，如图15 - 42所示。拉取仓库成功后，在当前目录下将多出个CharacterAI文件夹，该文件夹内存放的就是本案例系统的源码。 
